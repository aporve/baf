<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BAF Apply Installment</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="./assets/css/style.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>

<body>

  <div class="main-container">

    <div class="cards" id="cards">
      <div class="card_1" onclick="nextStep1()">
        <img src="./assets/image/svg/new-mp-home.svg" alt="">
      </div>
      <div class="card_2" onclick="nextStep2()">
        <img src="./assets/image/svg/new-syana-home.svg" alt="">
      </div>
      <div class="card_3" onclick="nextStep3()">
        <img src="./assets/image/svg/new-car-home.svg" alt="">
      </div>
      <div class="card_4" onclick="nextStep4()">
        <img src="./assets/image/svg/new-nmc-home.svg" alt="">
      </div>
    </div>

    <div class="ele_form hide" id="ele_form">
      <form action="#" class="form" id="myForm">

        <div class="mb-2">
          <label for="Pilih Tipe Barang">Pilih Tipe Barang</label>
          <div class="">
            <select class="form-control" style="width: 100%;" id="eleForm1" onchange="optionSelection()">
              <option value="" disabled selected>Silahkan Pilih</option>
            </select>
          </div>
        </div>

        <div class="mb-2">
          <label for="Pilih Merk Barang">Pilih Merk Barang</label>
          <div class="">
            <select class="form-control" style="width: 100%;" id="eleForm2" disabled>
              <option value="" disabled selected>Silahkan Pilih</option>
            </select>
          </div>
        </div>

        <div class="mb-2">
          <label for="Harga Barang">Harga Barang</label>
          <div>
            <input type="text" id="eleForm3" onchange="hargaFn()" disabled>
          </div>
        </div>

        <div class="mb-2">
          <label for="Jangka Waktu">Jangka Waktu</label>
          <div class="">
            <select class="form-control" style="width: 100%;" id="eleForm4" disabled>
              <option value="" disabled selected>Silahkan Pilih</option>
            </select>
          </div>
        </div>

        <div class="mb-2">
          <label for="Uang Muka">Uang Muka</label>
          <div class="">
            <select class="form-control" style="width: 100%;" id="eleForm5" disabled>
              <option value="" disabled selected>Silahkan Pilih</option>
            </select>
          </div>
        </div>

        <div class="submit_div">
          <button type="submit" id="submit_elektronik" class="submit" onclick="myFunction('elektronik')" disabled>Hitung
            Cicilan Anda</button>
        </div>

      </form>
    </div>


    <div class="container calculation hide" id="submit_form">
      <div style="text-align: center">
        <h2>Estimasi Cicilan Bulanan Anda</h2>
        <div class="calculationAmount">Rp. 2,110,000/ Bulan</div>
        <p>Perhitungan hanya bersifat simulasi, dapat berubah sesuai regulasi BAF. Ajukan aplikasi pembiayaan dan kami
          akan menghubungi Anda.</p>
        <button type="submit" style="margin-top: 10px; color: #002f5f; font-weight: bold;"
          onclick="showDetailForm()">Ajukan
          Sekarang</button>

      </div>
    </div>

    <div class="ele_form hide" id="ele_form_details">
      <form action="#" class="form">

        <div class="mb-2">
          <label for="Nama Lengkap">Nama Lengkap</label>
          <div>
            <input class="w80" type="text" id="eleDetail1">
          </div>
        </div>

        <div class="mb-2">
          <label for="Email">Email</label>
          <div>
            <input class="w80" type="email" id="eleDetail2">
          </div>
        </div>

        <div class="mb-2">
          <label for="Tanggal Lahir">Tanggal Lahir</label>
          <div>
            <input class="w80" type="date" id="eleDetail3" name="Tanggal Lahir">
          </div>
        </div>

        <div class="mb-2">
          <label for="Nomor Handphone">Nomor Handphone</label>
          <div>
            <input class="w80" type="number" id="eleDetail4">
          </div>
        </div>

        <div class="mb-2">
          <label for="Alamat">Alamat</label>
          <div class="">
            <textarea class="w80" id="eleDetail5" name="eleDetail5" rows="4" cols="30"></textarea>
          </div>
        </div>

        <div class="mb-2">
          <label for="Kota Tinggal">Kota Tinggal</label>
          <div>
            <input class="w80" type="text" id="eleDetail6">
          </div>
        </div>

        <div class="mb-2">
          <label for="Jota Pos">Jota Pos</label>
          <div>
            <input class="w80" type="text" id="eleDetail7">
          </div>
        </div>

        <div class="mb-2">
          <label for="Tipe Pengajuan">Tipe Pengajuan</label>
          <div>
            <input class="w80" type="text" id="eleDetail8">
          </div>
        </div>

        <div class="mb-2">
          <label for="kode Promo">kode Promo</label>
          <div>
            <input class="w80" type="text" id="eleDetail9">
          </div>
        </div>

        <div class="mb-2">
          <label for="Kode Referensi">Kode Referensi</label>
          <div>
            <input class="w80" type="text" id="eleDetail10">
          </div>
        </div>

        <div class="mb-2">
          <input type="checkbox" id="eleDetail11" name="saya" value="saya1">
          <label class="tnc" for="saya">Saya setuju dan bersedia menerima Informasi dari Bussan Auto
            Finance dan rekanan dari Bussan
            Auto Finance</label><br>
        </div>

        <div class="mb-2">
          <input type="checkbox" id="eleDetail12" name="syarat" value="saya2">
          <label class="tnc" for="syarat">Saya setuju dengan <a data-toggle="modal"
              data-target="#exampleModalLong">Syarat dan Ketentuan Bussan Auto Finance</a>
          </label><br>
        </div>


        <div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog"
          aria-labelledby="exampleModalLongTitle" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header submit_Form" style="text-align: center;">
                <h5 style="font-size: 3rem;" class="modal-title" id="exampleModalLongTitle">Syarat dan Ketentuan Website
                </h5>
                <button style="display: none;" type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                Dimohon untuk membaca ketentuan penggunaan dengan seksama, dengan menggunakan website ini, Anda setuju
                untuk mengikuti peraturan PT. Bussan Auto Finance yang telah ditetapkan.
                <br><br>
                <b>Batasan Pengunaan Produk</b>
                <br><br>
                Website PT. Bussan Auto Finance dibuat oleh PT. Bussan Auto Finance. Seluruh isi dari website PT. Bussan
                Auto Finance berada di bawah lindungan hukum hak cipta. Pengguna dapat mengunduh materi untuk
                kepentingan non-komersial. Dilarang menyalin, mendistribusikan kembali, atau mempublikasi bagian mana
                pun dari website ini.
                <br><br>
                <b>Kepatuhan</b>
                <br><br>
                Dengan mengirimkan konten ke website PT. Bussan Auto Finance ini, secara otomatis Anda telah mengizinkan
                PT. Bussan Auto Finance atau menjamin bahwa pemilik konten tersebut telah membolehkan PT. Bussan Auto
                Finance, secara bebas royalti, berkelanjutan, tidak dapat dibatalkan, hak dan lisensi non-eksklusif
                untuk menggunakan, mereproduksi, memodifikasi, mengadaptasi, menerbitkan, menerjemahkan dan
                mendistribusikan konten (secara keseluruhan atau sebagian) ke seluruh dunia dan/atau untuk memasukkannya
                ke dalam karya-karya lain dalam bentuk apapun, media atau teknologi yang sekarang dikenal atau
                selanjutnya dikembangkan untuk ketentuan penuh dari hak cipta yang mungkin ada dalam konten tersebut.
                Anda menjamin bahwa Anda pemilik materi yang Anda kirim dan bahwa materi tersebut tidak melanggar hak
                cipta yang dimiliki orang lain. Anda juga mengizinkan pihak lain untuk mengakses, melihat, menyimpan
                atau memperbanyak konten untuk penggunaan pribadi. Sesuai dengan izin ini, pemilik konten yang terdapat
                dalam website ini memiliki setiap dan semua hak yang mungkin ada dalam konten tersebut PT. Bussan Auto
                Finance tidak berkewajiban untuk menggunakan materi yang Anda kirimkan dan berhak untuk tidak
                menggunakan materi yang sekiranya tidak layak, dengan mengirimkan materi atau bentuk yang berisi nama,
                alamat dan/atau alamat email, Anda mengetahui bahwa nama, alamat dan/atau alamat e-mail Anda dapat
                ditempatkan pada satu atau lebih mailing list PT. Bussan Auto Finance.
                <br><br>
                <b>Penggantian Rugi</b>
                <br><br>
                Website PT. Bussan Auto Finance dibuat oleh PT. Bussan Auto Finance. Seluruh isi dari website PT. Bussan
                Auto Finance berada di bawah lindungan hukum hak cipta. Pengguna dapat mengunduh materi untuk
                kepentingan non-komersial. Dilarang menyalin, mendistribusikan kembali, atau mempublikasi bagian mana
                pun dari website ini.
                <br><br>
                <b>Batas Kewajiban</b>
                <br><br>
                PT. Bussan Auto Finance tidak mewakili atau menjamin bahwa website PT. Bussan Auto Finance ini akan
                dapat diakses atau tersedia secara tepat waktu, atau bahwa akses ke website ini tidak akan terganggu
                atau bebas dari kesalahan. Website ini didistribusikan dengan basis "sebagaimana adanya‚Äù, tanpa jaminan
                apapun, baik tersurat maupun tersirat, termasuk namun tidak terbatas pada jaminan hak atau jaminan
                tersirat tentang perjualbelian atau kecocokan untuk tujuan tertentu. PT. Bussan Auto Finance (baik
                perusahaan induk maupun afiliasi, atau petugas, direktur, karyawan, agen, perwakilan, penyedia informasi
                atau lisensor) tidak bertanggung jawab terhadap kerugian apapun, baik secara langsung, tidak langsung,
                insidental, khusus, konsekuensial, hukuman atau kerugian lainnya (terlepas dari bentuk tindakan), dengan
                pengecualian bahwa perusahaan yang terkait dengan PT. Bussan Auto Finance dan produk PT. Bussan Auto
                Finance, PT. Bussan Auto Finance tidak terafiliasi atau terkait dengan sponsor dari website lain yang
                ter-hyperlink ke atau dari website PT. Bussan Auto Finance, serta tidak mensponsori konten yang ada di
                website lain.
                <br><br>
                <b>Informasi Tambahan</b>
                <br><br>
                Semua produk, material dan informasi PT. Bussan Auto Finance yang terdapat di website ini ditujukan
                untuk konsumen Indonesia, untuk informasi tentang produk di negara lain, silahkan mengunjungi website
                khusus untuk negara tersebut. Produk spesifik PT. Bussan Auto Finance yang terdapat dalam website ini
                mungkin tidak tersedia untuk didistribusikan atau dijual di luar Indonesia.
                Persyaratan Penggunaan PT. Bussan Auto Finance
                PT. Bussan Auto Finance, Penyedia layanan resmi, menyediakan website PT. Bussan Auto Finance sebagai
                infrastruktur online bagi para orangtua untuk bertukar pikiran, pandangan, informasi serta opini.
                Infrastruktur ini disediakan pada website yang dikenal sebagai Bussan Auto Finance -Pembiayaan Kredit
                Motor Yamaha Penggunaan atau akses ke website PT. Bussan Auto Finance dianggap sebagai persetujuan dari
                persyaratan dan ketentuan di bawah ini:
                <br><br>
                <b>Konten:</b>
                <br><br>
                1. Konten dalam website PT. Bussan Auto Finance yang ditempatkan oleh member adalah pandangan dan opini
                dari setiap member dan tidak mewakili pandangan, opini atau mengatasnamakan Penyedia Layanan. Penyedia
                Layanan hanya menyediakan website PT. Bussan Auto Finance sebagai infrastruktur untuk wacana publik dan
                tidak membuat pernyataan terhadap keakuratan dan ketepatan informasi atau pendapat yang ditetapkan atau
                dibagikan dalam forum.<br><br>
                2. Pengguna dari website PT. Bussan Auto Finance mengetahui bahwa informasi yang ditetapkan atau
                dibagikan<br><br>
                pada forum tidak ditujukan untuk menggantikan saran yang dianjurkan para profesional. Pengguna harus
                berhati-hati ketika menggunakan informasi tersebut dan harus selalu berkonsultasi dan mendapatkan saran
                dari para profesional sebelum melakukan tindakan dari informasi manapun.
                3. Penyedia Layanan tidak bertanggungjawab atas informasi atau pandangan yang diberikan di website PT.
                Bussan Auto Finance.<br><br>
                4. Penyedia Layanan tidak membuat jaminan tersurat maupun tersirat untuk kualitas, ruang lingkup,
                akurasi<br><br>
                atau validitas informasi, pandangan atau opini yang disediakan termasuk namun tidak terbatas pada
                layanan internet, hubungan komunikasi dan file untuk diunduh. Penyedia Layanan juga tidak dapat dan
                tidak menjamin bahwa isi, link online, file dan fungsi akan bebas dari infeksi virus dan properti
                lainnya yang mencemarkan atau bersifat merusak.<br><br>
                5. Anggota PT. Bussan Auto Finance tidak diperkenankan memberikan informasi atau komentar yang
                menyinggung<br><br>
                SARA (Suku, Agama, Ras & Antar Golongan), serta harus bebas dari unsur pornografi.
                6. Anggota PT. Bussan Auto Finance tidak diperkenankan menuliskan komentar yang tidak pantas,
                menyinggung,
                melecehkan, dan menghujat tim admin dan sesama anggota dari Fan Page PT. Bussan Auto Finance.<br><br>
                7. Anggota PT. Bussan Auto Finance tidak diperkenankan menggunakan Fan Page PT. Bussan Auto Finance
                untuk
                kepentingan promosi/ MLM/ memasarkan produk / Fan Page lain, atau kegiatan politik & kampanye tertentu
                8. kecuali dengan ijin tertulis dari PT. Bussan Auto Finance sebelumnya.<br><br>
                Para anggota PT. Bussan Auto Finance harus saling menghormati sesama dengan tidak memancing konflik atau
                perdebatan, serta dan diharapkan untuk selalu menggunakan bahasa yang santun.<br><br>
                9. Semua peraturan ini berlaku untuk setiap aktivitas di PT. Bussan Auto Finance. Aktivitas yang
                dimaksud
                antara lain adalah: Diskusi, Comment, Photo, Notes dan segala bentuk pemberian informasi yang dilakukan
                oleh anggota di website PT. Bussan Auto Finance. <br>
                Pihak admin website PT. Bussan Auto Finance berhak untuk langsung menghapus segala bentuk pemberian
                informasi di Fan Page PT. Bussan Auto Finance yang melanggar poin-poin di atas tanpa pemberitahuan
                sebelumnya.
                Etiket Online
                Saat menggunakan website PT. Bussan Auto Finance, pengguna setuju untuk berperilaku sewajarnya dan
                secara bertanggungjawab, menghormati, tidak berlaku kasar atau memberikan komentar yang menghina para
                pengguna lain. Penyedia Layanan berhak untuk membatalkan akun pengguna dan/atau menghapus secara
                permanen pengguna yang tidak mematuhi ketentuan penggunaan yang terkandung di website PT. Bussan Auto
                Finance.
                Hak Editorial
                PT. Bussan Auto Finance, dengan kebijakannya sendiri, berhak untuk memperbaiki atau menghapus posting
                tanpa pemberitahuan atau penjelasan sebelumnya.
                Hak Kekayaan Intelektual dan Hak Cipta
                Penyedia Layanan memiliki semua hak kepemilikan atas kekayaan intelektual yang terkandung dalam website
                PT. Bussan Auto Finance dan memiliki hak cipta dari semua isi konten tersebut.
                Syarat Penggunaan
                Pengguna setuju bahwa sementara ketelitian serta kehati-hatian telah dilakukan dalam menyediakan dan
                memelihara website PT. Bussan Auto Finance, Penyedia Layanan melepaskan tanggung jawab atas konten atau
                informasi yang diberikan oleh pengguna di website PT. Bussan Auto Finance. Penyedia Layanan tidak
                bertanggungjawab baik secara langsung, tidak langsung, insidental, konsekuensial atau kerugian hukum
                yang timbul dari akses, ketergantungan pada, tindakan karena, atau ketidakmampuan untuk menggunakan
                website PT. Bussan Auto Finance, atau juga ketidakakuratan, kesalahan pernyataan, kesalahan, atau
                kelalaian dalam konten tersebut. Tidak ada member, pengguna atau pihak ketiga yang berwenang untuk
                membuat pernyataan, pendapat atau kontribusi apapun atas nama Penyedia Layanan. Penyedia Layanan berhak
                untuk meninjau dan mengubah ketentuan penggunaan ini dari waktu ke waktu, tanpa pemberitahuan tertulis
                sebelumnya. Pengguna dianggap telah menerima ketentuan penggunaan ini dan semua revisi serta
                modifikasinya, jika ada, untuk melanjutkan akses atau penggunaan website PT. Bussan Auto Finance.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button style="display: none;" type="button" class="btn btn-primary">Save changes</button>
              </div>
            </div>
          </div>
        </div>


        <div class="submit_div">
          <button type="submit" id="submit_elektronik_details" class="submit"
            onclick="myFunction('ele_nextForm')">Hitung
            Cicilan Anda</button>
        </div>

      </form>
    </div>

    <div class="container calculation bg-white hide" id="success_popup">
      <div style="text-align: center">
        <img style="width: 50%;" src="./assets/image/svg/baf.png" alt="">
        <h2>Terima Kasih</h2>

        <p>Kami telah menerima pengajuan pendanaan Mobil Daihatsu Anda.Tim kami akan menghubungi Anda untuk proses lebih
          lanjut. </p>
      </div>
    </div>




  </div>

  <div class="main-container2">

    <div class="container hide" id="dana_syariah">
      <form action="#" class="form-2" id="myForm">

        <div class="mb-2">
          <label for="Pilih Tipe Barang">Pilih Merk Motor</label>
          <div class="">
            <select class="form-control" style="width: 100%;" id="eleForm6" required>
              <option value="" disabled selected>Silahkan Pilih</option>
              <option value="Yamaha">Yamaha</option>
              <option value="Honda">Honda</option>
              <option value="Kawasaki">Kawasaki</option>
              <option value="Suzuki">Suzuki</option>
            </select>
          </div>
        </div>

        <div class="mb-2">
          <label for="Pilih Merk Barang">Tahun Pembuatan Motor</label>
          <div>
            <select class="form-control" style="width: 100%;" id="eleForm7">
              <option value="" disabled selected>Silahkan Pilih</option>
            </select>
          </div>
        </div>

        <div class="mb-2">
          <label for="Jumlah Pinjaman" class="formTitle">Jumlah Pinjaman</label>
          <div class="currency-input">
            <div class="currency-box">
              <span class="currency-symbol">Rp</span>
            </div>
            <input type="text" id="eleForm8">
          </div>
          <span id="validationMessage">Silahkan input nominal yang sesuai</span>
        </div>

        <script>
          document.addEventListener("DOMContentLoaded", function () {
            var eleForm8 = document.getElementById("eleForm8");
            var validationMessage = document.getElementById("validationMessage");

            eleForm8.addEventListener("keyup", function () {
              formatNumber(this);
              validateInput(this);
            });

            eleForm8.addEventListener("change", function () {
              validateInput(this);
            });

            function formatNumber(input) {
              var value = input.value.replace(/,/g, "").replace(/[^0-9]/g, "");
              var formattedValue = Number(value).toLocaleString("en-ID");
              input.value = formattedValue;
            }

            function validateInput(input) {
              var value = input.value.replace(/,/g, "").replace(/[^0-9]/g, "");
              var parsedValue = parseInt(value);

              if (parsedValue < 1000000) {
                validationMessage.style.display = "block";
              } else {
                validationMessage.style.display = "none";
              }
            }
          });
        </script>

        <div class="mb-2">
          <label for="Jangka Waktu">Jangka Waktu</label>
          <div class="">
            <select class="form-control" style="width: 100%;" id="eleForm9">
              <option value="" disabled selected>Silahkan Pilih</option>
              <option value="6^0.266">6 bulan</option>
              <option value="12^0.383">12 bulan</option>
              <option value="18^0.488">18 bulan</option>
              <option value="24^0.643">24 bulan</option>
              <option value="30^0.807">30 bulan</option>
              <option value="36^0.98">36 bulan</option>
            </select>
          </div>
        </div>

        <div class="submit_div">
          <button type="submit" class="submit" onclick="myFunction('dana_syariah')">Hitung Cicilan Anda</button>
        </div>
      </form>
    </div>

    <div class="container hide" id="mobil_baru">
      <form action="#" class="form-2" id="myForm">

        <div class="mb-2">
          <label for="Pilih Merk Mobil">Pilih Merk Mobil</label>
          <div class="">
            <select class="form-control" style="width: 100%;" id="eleForm10" required>
              <option value="" disabled selected>Silahkan Pilih</option>
            </select>
          </div>
        </div>

        <div class="mb-2">
          <label for="Jumlah Pinjaman">Harga Mobil</label>
          <div class="currency-input">
            <div class="currency-box">
              <span class="currency-symbol">Rp</span>
            </div>
            <input type="text" id="eleForm11">
          </div>
          <span id="validationMessage2">Silahkan input nominal yang sesuai</span>
        </div>

        <script>
          document.addEventListener("DOMContentLoaded", function () {
            var eleForm11 = document.getElementById("eleForm11");
            var validationMessage2 = document.getElementById("validationMessage2");

            eleForm11.addEventListener("keyup", function () {
              formatNumber(this);
              validateInput(this);
            });

            eleForm11.addEventListener("change", function () {
              validateInput(this);
            });

            function formatNumber(input) {
              var value = input.value.replace(/,/g, "").replace(/[^0-9]/g, "");
              var formattedValue = Number(value).toLocaleString("en-ID");
              input.value = formattedValue;
            }

            function validateInput(input) {
              var value = input.value.replace(/,/g, "").replace(/[^0-9]/g, "");
              var parsedValue = parseInt(value);

              if (parsedValue < 1000000) {
                validationMessage2.style.display = "block";
              } else {
                validationMessage2.style.display = "none";
              }
            }
          });
        </script>

        <div class="mb-2">
          <label for="Jangka Waktu">Jangka Waktu</label>
          <div class="">
            <select class="form-control" style="width: 100%;" id="eleForm12" required>
              <option value="" disabled selected>Silahkan Pilih</option>
            </select>
          </div>
        </div>

        <div class="mb-2">
          <label for="Uang Muka">Uang Muka</label>
          <div class="">
            <select class="form-control" style="width: 100%;" id="eleForm13" required>
              <option value="" disabled selected>Silahkan Pilih</option>
            </select>
          </div>
        </div>

        <div class="submit_div">
          <button type="submit" class="submit" onclick="myFunction('mobil_baru')">Hitung Cicilan Anda</button>
        </div>

      </form>
    </div>

    <div class="container hide" id="motor_baru">
      <form action="#" class="form-2" id="myForm">

        <div class="mb-2">
          <label for="Pilih Merk Mobil">Pilih Motor</label>
          <div class="">
            <select class="form-control" style="width: 100%;" id="eleForm14" required>
              <option value="" disabled selected>Silahkan Pilih</option>
            </select>
          </div>
        </div>
        <!-- New jumlah pinjaman input for motor yamaha baru with validation -->
        <div class="mb-2">
          <label for="Jumlah Pinjaman">Harga Motor</label>
          <div class="currency-input">
            <div class="currency-box">
              <span class="currency-symbol">Rp</span>
            </div>
            <input type="text" id="eleForm15">
          </div>
          <span id="validationMessage3">Silahkan input nominal yang sesuai</span>
        </div>

        <script>
          document.addEventListener("DOMContentLoaded", function () {
            var eleForm15 = document.getElementById("eleForm15");
            var validationMessage3 = document.getElementById("validationMessage3");

            eleForm15.addEventListener("keyup", function () {
              formatNumber(this);
              validateInput(this);
            });

            eleForm15.addEventListener("change", function () {
              validateInput(this);
            });

            function formatNumber(input) {
              var value = input.value.replace(/,/g, "").replace(/[^0-9]/g, "");
              var formattedValue = Number(value).toLocaleString("en-ID");
              input.value = formattedValue;
            }

            function validateInput(input) {
              var value = input.value.replace(/,/g, "").replace(/[^0-9]/g, "");
              var parsedValue = parseInt(value);

              if (parsedValue < 1000000) {
                validationMessage3.style.display = "block";
              } else {
                validationMessage3.style.display = "none";
              }
            }
          });
        </script>

        <div class="mb-2">
          <label for="Jangka Waktu">Jangka Waktu</label>
          <div class="">
            <select class="form-control" style="width: 100%;" id="eleForm16" required>
              <option value="" disabled selected>Silahkan Pilih</option>
            </select>
          </div>
        </div>

        <div class="mb-2">
          <label for="Uang Muka">Uang Muka</label>
          <div class="">
            <select class="form-control" style="width: 100%;" id="eleForm17" required>
              <option value="" disabled selected>Silahkan Pilih</option>
            </select>
          </div>
        </div>

        <div class="submit_div">
          <button type="submit" class="submit" onclick="myFunction('motor_baru')">Hitung Cicilan Anda</button>
        </div>

      </form>
    </div>

    <div class="container calculation hide" id="calculator">
      <div style="text-align: center">
        <h2>Estimasi Cicilan Bulanan Anda</h2>
        <div class="calculationAmount"></div>
        <p>Perhitungan hanya bersifat simulasi, dapat berubah sesuai regulasi BAF. Ajukan aplikasi pembiayaan dan kami
          akan menghubungi Anda.</p>
        <button type="submit" style="margin-top: 10px; color: #002f5f; font-weight: bold;" onclick="">Ajukan
          Sekarang</button>

      </div>
    </div>
  </div>



  <script>

    // document.getElementById("eleForm2").disabled = true;
    // document.getElementById("eleForm3").disabled = true;
    // document.getElementById("eleForm4").disabled = true;
    // document.getElementById("eleForm5").disabled = true;

    let descr = []
    let codes = []
    let newData = []
    let num = []
    let str;

    window.addEventListener('message', function (eventData) {
      // console.log('In INDEX.HTML')
      const parsedEventData = JSON.parse(eventData.data)
      // console.log(parsedEventData, "parsedEventData");
      if (parsedEventData.event_code === "custom-child-client-event") {
        // console.log('Hard Log')
        // console.log("\n\n\n\n\n\n\n <---- parsed event data ---> \n\n\n\n\n\n\n\n", parsedEventData);
        // console.log("data ---->", parsedEventData.data);
        // console.log("main data ---->", parsedEventData.data.data);
        // let data = parsedEventData.data.data;
        let data = parsedEventData.data;

        for (let i = 0; i < data.length; i++) {
          let id = data[i].Descr;
          let code = data[i].Code;
          // console.log('id--->', id)
          // console.log('code-->', code)

          if (id !== '') {
            newData.push({ "descr": id, "code": code });
            // descr.push(id);
            // codes.push(code);
          }
        }

        for (var item of newData) {
          // console.log('Items->', item)
          // console.log('Data from array of objects-->', item.descr)
          str += `<option value=${item.code}>${item.descr}</option>`
          // str += "<option>" + item + "</option>"
        }
        document.getElementById("eleForm1").innerHTML = str;
        descr = []
        codes = []
        newData = []
        str = ''
      }

      if (parsedEventData.event_code === "pilihMerk") {
        // console.log('Hard Log')
        // console.log("\n\n\n\n\n\n\n <---- Html ---> \n\n\n\n\n\n\n\n", parsedEventData);
        // console.log("\n\n\n\n\n\n\n <---- pilihMerk Data ---> \n\n\n\n\n\n\n\n", parsedEventData.data);
        let data = parsedEventData.data;
        for (let i = 0; i < data.length; i++) {
          let id = data[i].Descr;
          let code = data[i].Code;
          // console.log('id--->', id)
          // console.log('code-->', code)

          if (id !== '') {
            newData.push({ "descr": id, "code": code });
            // descr.push(id);
            // codes.push(code);
          }
        }

        for (var item of newData) {
          // console.log('Items->', item)
          // console.log('Data from array of objects-->', item.descr)
          str += `<option value=${item.code}>${item.descr}</option>`
          // str += "<option>" + item + "</option>"
        }
        document.getElementById("eleForm2").disabled = false;
        document.getElementById("eleForm3").disabled = false;
        document.getElementById("eleForm2").innerHTML = str;

        descr = []
        codes = []
        newData = []
        str = ''
      }


      if (parsedEventData.event_code === "jangkaWaktu-childIframe") {
        // console.log('jangkaWaktu')
        // console.log("\n\n\n\n\n\n\n <---- Html ---> \n\n\n\n\n\n\n\n", parsedEventData);
        // console.log("\n\n\n\n\n\n\n <---- jangkaWaktu Data ---> \n\n\n\n\n\n\n\n", parsedEventData.data);
        let data = parsedEventData.data.result.Tenor;
        // console.log('data------>', data);
        for (let i = 0; i < data.length; i++) {
          let id = data[i];
          // let code = data[i].Code;
          // console.log('id--->', id)
          // console.log('code-->', code)

          if (id !== '') {
            num.push({ "id": id });
          }
          // console.log('num--->', num);
        }

        for (var item of num) {
          // console.log('Items->', item)
          str += `<option value=${item.id}>${item.id}</option>`
        }
        // console.log('---here---')
        document.getElementById("eleForm5").disabled = false;
        document.getElementById("submit_elektronik").disabled = false;
        document.getElementById("eleForm4").innerHTML = str;

        descr = []
        codes = []
        newData = []
        num = []
        str = ''

        data = parsedEventData.data.result.DP;
        // console.log('data------>', data);
        for (let i = 0; i < data.length; i++) {
          let id = data[i];
          // let code = data[i].Code;
          // console.log('id--->', id)
          // console.log('code-->', code)

          if (id !== '') {
            num.push({ "id": id });
          }
          // console.log('num--->', num);
        }

        for (var item of num) {
          // console.log('Items->', item)
          str += `<option value=${item.id}>${item.id}</option>`
        }
        // console.log('---here---')
        document.getElementById("submit_elektronik").disabled = false;
        document.getElementById("eleForm5").innerHTML = str;

        descr = []
        codes = []
        newData = []
        num = []
        str = ''
        // document.getElementById("eleForm6").disabled = false;
      }

    });

    function nextStep1() {
      $("#cards").addClass("hide");
      $("#ele_form").addClass("show");
      window.parent.postMessage(JSON.stringify({
        event_code: 'custom-recent-order-event',
        data: ''
      }), '*');
    }

    function nextStep2() {
      $("#cards").addClass("hide");
      $(".main-container").addClass("hide");
      $("#dana_syariah").addClass("show");
    }

    function nextStep3() {
      $("#cards").addClass("hide");
      $(".main-container").addClass("hide");
      $("#mobil_baru").addClass("show");
      generateOption("mobil baru")
    }

    function nextStep4() {
      $("#cards").addClass("hide");
      $(".main-container").addClass("hide");
      $("#motor_baru").addClass("show");
      generateOption("motor baru")
    }

    function calculate(name, price, installment, dp = 0) {

      price = parseInt(price.replace(/,/g, ""))
      let installmentCalc = 0
      if (name === 'mobil_baru' || name === 'motor_baru') {
        const downpaymentAmount = price * Number(dp)
        const installmentCode = installment.split('^')
        const installmentDuration = Number(installmentCode[0])
        const rate = Number(installmentCode[1])
        installmentCalc = Math.round(((price - downpaymentAmount) * (1 + rate)) / installmentDuration)
      } else if (name === 'dana_syariah') {
        const installmentCode = installment.split('^')
        const installmentDuration = Number(installmentCode[0])
        const rate = Number(installmentCode[1])
        installmentCalc = Math.round((price * (1 + rate)) / installmentDuration)
      }

      console.log(installmentCalc, "installmentCalc")
      const content = '<p>Rp. ' + Number(String(installmentCalc).replace(/,/g, "").replace(/[^0-9]/g, "")).toLocaleString("en-ID") + '<br />/Bulan</p>';

      $('.calculationAmount').html(content);

      var form = document.getElementById(name);
      form.classList.remove("show");
      $("#calculator").addClass("show");
    }

    function myFunction(name) {
      event.preventDefault();

      if (name == 'dana_syariah') {
        // Retrieve the data from the 'dana_syariah' form
        const danaForm = document.getElementById("dana_syariah");
        const danaJumlahPinjaman = danaForm.querySelector("#eleForm8").value;
        const danaJangkaWaktu = danaForm.querySelector("#eleForm9").value;

        calculate(name, danaJumlahPinjaman, danaJangkaWaktu);
      }

      if (name == 'mobil_baru') {
        // Retrieve the data from the 'mobil_baru' form
        const mobilForm = document.getElementById("mobil_baru");
        const mobilHargaMobil = mobilForm.querySelector("#eleForm11").value;
        const mobilJangkaWaktu = mobilForm.querySelector("#eleForm12").value;
        const mobilUangMuka = mobilForm.querySelector("#eleForm13").value;

        calculate(name, mobilHargaMobil, mobilJangkaWaktu, mobilUangMuka);
      }


      if (name == 'motor_baru') {
        // Retrieve the data from the 'motor_baru' form
        const motorForm = document.getElementById("motor_baru");
        const motorPrice = motorForm.querySelector("#eleForm15").value;
        const motorJangkaWaktu = motorForm.querySelector("#eleForm16").value;
        const motorUangMuka = motorForm.querySelector("#eleForm17").value;

        calculate(name, motorPrice, motorJangkaWaktu, motorUangMuka);
      }

      if (name == 'elektronik') {
        // console.log('elektronik---')
        let data = {}
        let data1, data2, data3, data4, data5;

        data1 = document.getElementById("eleForm1").value;
        data2 = document.getElementById("eleForm2").value;
        data3 = document.getElementById("eleForm3").value;
        data4 = document.getElementById("eleForm4").value;
        data5 = document.getElementById("eleForm5").value;

        data.data1 = data1;
        data.data2 = data2;
        data.data3 = data3;
        data.data4 = data4;
        data.data5 = data5;

        // console.log(data, 'Data---->')
        // $("#ele_form").classList.remove("show");
        // $("#submit_form").classList.remove("hide");
        $("#ele_form").removeClass("show");
        $("#submit_form").removeClass("hide");
        $("#ele_form").addClass("hide");
        $("#submit_form").addClass("show");
        // console.log('---------')
        document.getElementById("myForm").reset();
        window.parent.postMessage(JSON.stringify({
          event_code: 'elektronik_submit',
          data: data
        }), '*');
      }

      if (name == 'ele_nextForm') {


        // console.log('--here--')
        let name, email, Tanggal, Nomor, Alamat, Kota, Jota, Tipe, kodePromo, KodeReferensi, saya1, saya2;
        let ele_data = {}

        name = $("#eleDetail1").val();
        email = $("#eleDetail2").val();
        Tanggal = $("#eleDetail3").val();
        Nomor = $("#eleDetail4").val();
        Alamat = $("#eleDetail5").val();
        // Alamat = document.getElementById("eleDetail5").value
        Kota = $("#eleDetail6").val();
        Jota = $("#eleDetail7").val();
        Tipe = $("#eleDetail8").val();
        kodePromo = $("#eleDetail9").val();
        KodeReferensi = $("#eleDetail10").val();

        // console.log(`  ${name} ${email} ${Tanggal} ${Nomor} ${Alamat} ${Kota} ${Jota} ${Tipe} ${kodePromo} ${KodeReferensi}   `)
        // console.log($("#eleDetail11").prop("checked"), 'Checkbox-->')
        saya1 = $("#eleDetail11").prop("checked")
        saya2 = $("#eleDetail12").prop("checked")

        ele_data.name = name;
        ele_data.email = email;
        ele_data.Tanggal = Tanggal;
        ele_data.Nomor = Nomor;
        ele_data.Alamat = Alamat;
        ele_data.Kota = Kota;
        ele_data.Jota = Jota;
        ele_data.Tipe = Tipe;
        ele_data.kodePromo = kodePromo;
        ele_data.KodeReferensi = KodeReferensi;
        ele_data.saya1 = saya1;
        ele_data.saya2 = saya2;

        console.log('data---> ', ele_data)
        console.log(typeof (saya1))
        if (name !== '' && email !== '' && Tanggal !== '' && Nomor !== '' && Alamat !== '' && Kota !== '' && Jota !== '' && Tipe !== '' && kodePromo !== '' && KodeReferensi !== '' && saya1 == true && saya2 == true) {
          // console.log('In Validator Data---', ele_data);
          window.parent.postMessage(JSON.stringify({
            event_code: 'ele_nextForm',
            data: ele_data
          }), '*');
        }

      }



    }

    function optionSelection() {
      let x = document.getElementById("eleForm1").value;
      window.parent.postMessage(JSON.stringify({
        event_code: 'custom-select-option-1',
        data: x
      }), '*');
    }

    function hargaFn() {
      let inputData = document.getElementById('eleForm3').value;

      if (inputData !== '' || inputData !== null) {
        console.log('Data is there');
        document.getElementById("eleForm4").disabled = false;
        window.parent.postMessage(JSON.stringify({
          event_code: 'harga',
          data: inputData
        }), '*');
      }
    }

    function showDetailForm() {
      $("#submit_form").removeClass("show");
      $("#submit_form").addClass("hide");
      $("#ele_form_details").removeClass("hide");
      $("#ele_form_details").addClass("show");

    }





    // Get the select element
    var selectElement = document.getElementById("eleForm7");

    // Get the current year
    var currentYear = new Date().getFullYear();

    // Start the loop from 2010 until the current year
    for (var year = 2010; year <= currentYear; year++) {
      // Create a new option element
      var option = document.createElement("option");

      // Set the text and value of the option
      option.text = year;
      option.value = year;

      // Append the option to the select element
      selectElement.appendChild(option);
    }

    function generateOption(cardName) {
      // Get the select element
      var selectElement1, selectElement2, selectElement3, url;

      if (cardName == "mobil baru") {
        selectElement1 = document.getElementById("eleForm10");
        selectElement2 = document.getElementById("eleForm12");
        selectElement3 = document.getElementById("eleForm13");

        url = "./assets/js/new-car-data.json";
      }

      if (cardName == "motor baru") {
        selectElement1 = document.getElementById("eleForm14");
        selectElement2 = document.getElementById("eleForm17");
        selectElement3 = document.getElementById("eleForm16");

        url = "./assets/js/new-motorcycle-data.json";
      }

      // Create an XMLHttpRequest object
      var xhr = new XMLHttpRequest();

      // Make a GET request to load the JSON data
      xhr.open("GET", url, true);
      xhr.onreadystatechange = function () {
        if (xhr.readyState === 4 && xhr.status === 200) {
          // Parse the JSON data
          var jsonData = JSON.parse(xhr.responseText);

          // Loop through the JSON data and create Merk Mobil options dynamically
          for (var i = 0; i < jsonData.type.length; i++) {
            var option = document.createElement("option");
            option.value = jsonData.type[i].Code;
            option.text = jsonData.type[i].Descr;
            selectElement1.appendChild(option);
          }

          // Loop through the JSON data and create Jangka Waktu options dynamically
          for (var i = 0; i < jsonData.downpayment.length; i++) {
            var option = document.createElement("option");
            option.value = jsonData.downpayment[i].Code;
            option.text = jsonData.downpayment[i].Descr;
            selectElement2.appendChild(option);
          }

          // Loop through the JSON data and create Uang Muka options dynamically
          for (var i = 0; i < jsonData.installment.length; i++) {
            var option = document.createElement("option");
            option.value = jsonData.installment[i].Code;
            option.text = jsonData.installment[i].Descr;
            selectElement3.appendChild(option);
          }
        }
      };
      xhr.send();
    }

  </script>

</body>

</html>